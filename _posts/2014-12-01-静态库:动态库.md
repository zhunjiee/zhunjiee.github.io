---
layout: post
title: "静态库/动态库"
date: 2014-12-01
comments: false
categories: 实用技术
---

##什么是库？

库是程序代码的集合，是共享程序代码的一种方式



根据源代码的公开情况，库可以分为2种类型



- 开源库

	- 公开源代码，能看到具体实现

	- 比如SDWebImage、AFNetworking



- 闭源库

	- 不公开源代码，是经过编译后的二进制文件，看不到具体实现

	- 主要分为：静态库、动态库





##静态库和动态库的存在形式

静态库：.a 和 .framework



动态库：.dylib 和 .framework



##静态库和动态库在使用上的区别

静态库：**链接时，静态库会被完整地复制到可执行文件中，被多次使用就有多份冗余拷贝**



动态库：**链接时不复制，程序运行时由系统动态加载到内存，供程序调用，系统只加载一次，多个程序共用，节省内存**



>注：项目中如果使用了自制的动态库，不能被上传到AppStore



##如何创建静态库
xcode默认提供了制作静态库的功能,如下图所示:
![](https://dn-zhunjiee.qbox.me/Snip20160214_1.png)

选择真机(其实不插手机也可以的)进行编译运行就会生成静态库
![](https://dn-zhunjiee.qbox.me/Snip20160214_3.png)

上图中libStaticLib.a就是生成的静态库

##扩展:CPU架构



**模拟器**



i386 : iPhone 4s ~ iPhone 5



x86_64 : iPhone 5S ~ iphone 6s Plus





**真机**



iPhone 3GS ~ iPhone 4S: armv7

iPhone 5 ~ iPhone 5C : armv7s

iPhone 5S ~ iPhone 6S Plus : arm64

