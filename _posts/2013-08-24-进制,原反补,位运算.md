---
layout: post
title: "进制,原反补,位运算"
date: 2013-08-24
comments: false
categories: C语言
---

#进制

1. 在编程中想要表示**二进制**,需要在数字前面加- **0b**
2. 在编程中想要表示**八进制**,需要在数字前面加- **0**
3. 在编程中想要表示**十六进制**,需要在数字前面加- **0x**


- **%i,%d** 以十进制形式输出数字
- **%o** 以八进制形式输出数字
- **%x** 以十六进制形式输出数字

**N位二进制取值范围:** 0~2的N次方-1

- 二进制转八进制
    + 三个二进制位代表一个八进制位,只需要将3个二进制位转换为十进制,之后连起来即可
- 二进制转十六进制
    + 四个二进制位代表一个八进制位,只需要将4个二进制位转换为十进制,之后连起来即可

---
#原码补码反码

计算机中存储的是*“补码”*

- **原码:** 原码
- **反码:** 符号位不变，其他位取反
- **补码:** 反码+1

二进制的第一位就是符号位，0代表正数，1代表负数

- **正数**的原码、补码、反码都是它本身
- **负数**的反码符号位不变，其他位取反；补码是反码+1

- **为什么要有原码/补码/反码呢？**

```
主要是为了方便计算机计算
1.由于最高位是符号位，如果是0就代表是正数，1代表负数
2.使用原码计算，计算机必须判断最高位才能计算，效率比较低
```

---
#位运算

- **&：按位与:** 转换为二进制后进行运算,一假则假
任何数和1相与,得到结果,1表示奇数,0表示偶数

```
例:
    9 & 5 = 1
       1001
     & 0101
    -----------
       0001 -> 1
```
- **|：按位或:**  一真则真

```
例:
	9|5 = 13
	 1001
	|0101
	------
	 1101 -> 13
```
- **^:按位异或:** 不相同为1,相同为0;

```
例:
9 ^ 5 = 12

	1001
  ^ 0101
  --------
    1100 -> 12

```
注:

1. 异或的结果和参与运算的顺序没有关系;
2. 任何数异或上0结果还是它本身;
3. 相同的两个数异或运算等于0;
4. 任何一个数异或上同一个数两次,结果还是原来的数

- **~:取反:**
各二进位进行取反(0变1,1变0)

```
例:
	~9 =-10

9的原码:0000 0000 0000 0000 0000 1001
   反码:1111 1111 1111 1111 1111 0110 ->这是存在内存中的结果,相当于补码

知道补码求原码:也是符号位不变,先-1求反码,再取反求原码
1111 1111 1111 1111 1111 0110 ->补码
						 -0001
1111 1111 1111 1111 1111 0101 ->反码
取反
1000 0000 0000 0000 0000 1010 ->原码

```

- **练习**

```
判断一个数的奇偶性,如果是奇数则打印“奇数”,否则打 印“偶数”
int a = num&1;
If(a){
    printf("奇数");
}else{
    printf("偶数");
}
```

面试题使用位运算实现交换两个数的值

```
 a = a^b;
 b = b^a;  // b = b^a^b = a;
 a = a^b;  // a = a^b^a = b;
```

### 6.左移右移

- **左移:** 就是用左移的数乘以2的移动次幂

```
例如：
9 << 1 == 9 * 2(1) = 18
9 << 2 == 9 * 2(2) = 36
注意点:
由于左移运算,被移动的数的最高位会被抛弃,所以左移有可能改变一个数的正负性
```
- **右移:** 就是用右移的数除以2的移动次幂  

```
例如：
9 >> 1 == 9 / 2(1) = 4
9 >> 2 == 9 * 2(2) = 2

注:负数的左移右移是补码在移动,因为负数都是以补码的形式存储在内存中的
应用场景:如果想让一个数乘以2的多少次幂,或者除以2的多少次幂,最高效的运算方式就是左移右移

当计算负数时一定能要先转换成补码后再进行运算

```
---

- **类型说明符**  
	+ **长度**:short; long; long long;  
		* 用%li 或者 %ld 来输出long类型的数据  
		* 用%lli 或者 %lld 来输出long long类型的数据

```
例:
	long int num = 12345678913423235;
    long num2 = 7891342323541441;
    short int num3 = 1;
    short num3 = 1;
```


- **符号**:unsigned; signed;  
	+ 用%u 来输出unsigned类型的数据

---
